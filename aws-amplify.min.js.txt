!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.aws_amplify=e():t.aws_amplify=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Analytics:()=>g,Auth:()=>_,Cache:()=>p,DataStore:()=>v,Geo:()=>b,I18n:()=>x,Interactions:()=>S,Logger:()=>y,Notifications:()=>A,PubSub:()=>E,Storage:()=>O,XR:()=>C,configure:t=>U.configure,default:()=>U});const r="5.3.12",n=t=>t&&t.config&&t.config.userAgentSuffix;class i{constructor(t){this.extra=t,this.userAgent=i.getAmplifyUserAgent()}getAmplifyUserAgent(t=""){const e=`aws-amplify/${r}`,i=this.extra?` ${this.extra}`:"",a=t?` ${t}`:"";return`${e}${i}${a}`}static getAmplifyUserAgent(t=""){const e=new i;return e.getAmplifyUserAgent(t)}}var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;const o=t=>"string"==typeof t,s="undefined"==typeof window||!window.document,u=!!("undefined"!=typeof navigator&&navigator.userAgent&&/Android/i.test(navigator.userAgent)),c=!!(!s&&window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)&&!window.MSStream);class l{constructor(t){this.name=t,this.logLevel=l.LOG_LEVEL}info(t,...e){console.info(`[INFO] ${this.name} - ${t}`,...e)}warn(t,...e){console.warn(`[WARN] ${this.name} - ${t}`,...e)}error(t,...e){console.error(`[ERROR] ${this.name} - ${t}`,...e)}debug(t,...e){"DEBUG"===this.logLevel&&console.debug(`[DEBUG] ${this.name} - ${t}`,...e)}}l.LOG_LEVEL="WARN";const d=["[WARN] ","[ERROR] "];class f{constructor(t){this.src=t}getCategories(){return Object.keys(this.src)}get(t,e){return this.src[t]?this.src[t]:(this.src[t]=e,e)}configure(t){if(!t)return this;const e=Object.assign({},this.src,t);return this.src=e,this}}class h{constructor(){}addPluggable(t){return t.getCategory()in this&&(t.configure(this._config[t.getCategory()]),this.registerPluggable(t)),this}getPluggable(t){return this._pluggables.find(e=>e.getPluggableName()===t)}removePluggable(t){const e=this._pluggables.findIndex(e=>e.getPluggableName()===t);return-1!==e&&this._pluggables.splice(e,1),this}}class m extends h{constructor(){super(...arguments),this.amplify=void 0}configure(t){}}var g=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.Push=this;const t=new l("Analytics");this.logger=t}getModuleName(){return"Analytics"}configure(t){const e=new l("Analytics");this.logger=e,e.debug("configure Analytics"),U.register(this);const r=t?t.Analytics||t:{};this._config=Object.assign({},this._config,r),this._pluggables.forEach(t=>{t.configure(this._config)})}registerPluggable(t){this._pluggables.push(t)}enable(){this.logger.debug("enable Analytics"),this._pluggables.forEach(t=>{t.enable()})}disable(){this.logger.debug("disable Analytics"),this._pluggables.forEach(t=>{t.disable()})}record(t,e,r){return new Promise((n,i)=>{this.logger.debug("record event",t),this._pluggables.forEach(i=>{i.record(t,e,r)})})}autoTrack(t,e){this.logger.debug("autoTrack "+t),this._pluggables.forEach(r=>{r.autoTrack(t,e)})}}();var _=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.currentUser=void 0,this.currentUserCredentials=void 0,this.currentUserPoolUser=void 0,this.userSession=void 0;const t=new l("Auth");this.logger=t}getModuleName(){return"Auth"}configure(t){const e=new l("Auth");this.logger=e,e.debug("configure Auth");const r=t?t.Auth||t:{};this._config=Object.assign({},this._config,r),U.register(this),this._pluggables.forEach(t=>{t.configure(this._config)})}_getAuthProvider(){if(0===this._pluggables.length)throw new Error("No Auth provider has been configured");if(1===this._pluggables.length)return this._pluggables[0];const t=this._pluggables.filter(t=>"AWSCognitoAuthPlugin"===t.getPluggableName());return t.length>0?t[0]:this._pluggables[0]}registerPluggable(t){this._pluggables.push(t),t.configure(this._config)}signUp(t){return this._getAuthProvider().signUp(t)}resendSignUp(t){return this._getAuthProvider().resendSignUp(t)}confirmSignUp(t,e,r){return this._getAuthProvider().confirmSignUp(t,e,r)}signIn(t,e){return this._getAuthProvider().signIn(t,e)}confirmSignIn(t,e,r){return this._getAuthProvider().confirmSignIn(t,e,r)}signOut(t){return this._getAuthProvider().signOut(t)}changePassword(t,e,r){return this._getAuthProvider().changePassword(t,e,r)}forgotPassword(t){return this._getAuthProvider().forgotPassword(t)}forgotPasswordSubmit(t,e,r){return this._getAuthProvider().forgotPasswordSubmit(t,e,r)}verifyCurrentUserAttribute(t){return this._getAuthProvider().verifyCurrentUserAttribute(t)}verifyCurrentUserAttributeSubmit(t,e,r){return this._getAuthProvider().verifyCurrentUserAttributeSubmit(t,e,r)}currentAuthenticatedUser(t){return this._getAuthProvider().currentAuthenticatedUser(t)}currentCredentials(){return this._getAuthProvider().currentCredentials()}currentSession(t){return this._getAuthProvider().currentSession()}currentUserInfo(){return this._getAuthProvider().currentUserInfo()}currentUserPoolUser(t){return this._getAuthProvider().currentUserPoolUser(t)}updateUserAttributes(t,e){return this._getAuthProvider().updateUserAttributes(t,e)}setupTOTP(t){return this._getAuthProvider().setupTOTP(t)}verifyTotpToken(t,e){return this._getAuthProvider().verifyTotpToken(t,e)}setPreferredMFA(t,e){return this._getAuthProvider().setPreferredMFA(t,e)}getPreferredMFA(t,e){return this._getAuthProvider().getPreferredMFA(t,e)}federatedSignIn(t,e,r){return this._getAuthProvider().federatedSignIn(t,e,r)}clearSignInState(){return this._getAuthProvider().clearSignInState()}}();var p=new class extends h{constructor(){super(),this._config={},this._pluggables=[];const t=new l("Cache");this.logger=t}getModuleName(){return"Cache"}configure(t){const e=new l("Cache");this.logger=e,e.debug("configure Cache");const r=t?t.Cache||t:{};this._config=Object.assign({},this._config,r),U.register(this),this._pluggables.forEach(t=>{t.configure(this._config)})}_getStorage(t){const e=t&&t.provider||"AWSPinpointCache";this.logger.debug("get Storage "+e);const r=this._pluggables.find(t=>t.getCategory()===this.getModuleName()&&t.getPluggableName()===e);if(!r)throw new Error("Cache module has not been configured correctly");return r}registerPluggable(t){this._pluggables.push(t)}setItem(t,e,r){return this._getStorage(r).setItem(t,e,r)}getItem(t,e){return this._getStorage(e).getItem(t,e)}removeItem(t,e){return this._getStorage(e).removeItem(t,e)}clear(t){return this._getStorage(t).clear(t)}getAllKeys(t){return this._getStorage(t).getAllKeys(t)}createInstance(t){this.logger.debug("create new instance of Cache for "+t.key);const e=t.key;return this[e]=new class{constructor(t,e){this._config=Object.assign({},t),this._cache=e;const r=new l("Cache");this.logger=r}getModuleName(){return this._cache.getModuleName()}configure(t){this.logger.debug("configure instance",t),this._config=Object.assign({},this._config,t)}setItem(t,e,r){return this._cache.setItem(t,e,Object.assign({},this._config,r))}getItem(t,e){return this._cache.getItem(t,Object.assign({},this._config,e))}removeItem(t,e){return this._cache.removeItem(t,Object.assign({},this._config,e))}clear(t){return this._cache.clear(Object.assign({},this._config,t))}getAllKeys(t){return this._cache.getAllKeys(Object.assign({},this._config,t))}}(t,this),this[e]}}();var v=new class extends m{constructor(){super(...arguments),this.amplify=void 0}getModuleName(){return"DataStore"}configure(t){}};var b=new class extends h{constructor(){super(),this._config={},this._pluggables=[];const t=new l("Geo");this.logger=t,this.amplify=void 0}getModuleName(){return"Geo"}configure(t){const e=t?t.Geo||t:{};this._config=Object.assign({},this._config,e),this.logger.debug("configure Geo",e),U.register(this),this._pluggables.forEach(t=>{t.configure(e)})}registerPluggable(t){this._pluggables.push(t)}getPluggable(t){const e=this._pluggables.find(e=>e.getPluggableName()===t);if(e)return e;throw new Error("No plugin found in Geo for "+t)}_getPluggable(t){if(!t||!t.providerName)return this._pluggables[0];const e=this._pluggables.find(e=>e.getPluggableName()===t.providerName);if(e)return e;throw new Error("No plugin found in Geo for provider "+t.providerName)}searchByText(t,e){return this._getPluggable(e).searchByText(t,e)}searchByCoordinates(t,e){return this._getPluggable(e).searchByCoordinates(t,e)}getMapPricing(t){return this._getPluggable(t).getMapPricing(t)}createMap(t,e){return this._getPluggable(e).createMap(t,e)}getAvailableMaps(){return this._pluggables.reduce((t,e)=>({...t,[e.getPluggableName()]:e.getMapStyles()}),{})}getGeofencePricing(t){return this._getPluggable(t).getGeofencePricing(t)}saveGeofences(t,e){return this._getPluggable(e).saveGeofences(t,e)}getGeofence(t,e){return this._getPluggable(e).getGeofence(t,e)}listGeofences(t,e){return this._getPluggable(e).listGeofences(t,e)}deleteGeofences(t,e){return this._getPluggable(e).deleteGeofences(t,e)}coordinatesToTimezone(t,e){return this._getPluggable(e).coordinatesToTimezone(t,e)}}();var x=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.amplify=void 0;const t=new l("I18n");this.logger=t}getModuleName(){return"I18n"}configure(t){const e=t?t.I18n||t:{};this._config=Object.assign({},this._config,e),this.logger.debug("configure I18n",e),U.register(this),this._pluggables.forEach(t=>{t.configure(e)})}registerPluggable(t){this._pluggables.push(t)}get(t,e){return this._pluggables[0].get(t,e)}getPluggable(t){return this._pluggables.find(e=>e.getPluggableName()===t)}addPluggable(t){super.addPluggable(t),this._pluggables.sort((t,e)=>e.getScore()-t.getScore())}}();var S=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.amplify=void 0;const t=new l("Interactions");this.logger=t}getModuleName(){return"Interactions"}configure(t){const e=t?t.Interactions||t:{};this.logger.debug("configure Interactions",e),this._config=Object.assign({},this._config,e),U.register(this),this._pluggables.forEach(t=>{t.configure(e)})}_getPluggable(t){const e=t.provider||this._pluggables[0].getPluggableName(),r=this._pluggables.find(t=>t.getPluggableName()===e);if(!r)throw new Error(`Interactions has no plugin corresponding to provider ${e}`);return r}registerPluggable(t){this._pluggables.push(t)}send(t,e){return this._getPluggable({}).send(t,e)}onComplete(t,e){this._getPluggable({}).onComplete(t,e)}}();var y=class extends l{constructor(t,e="WARN"){super(t),this.logLevel=e}};var A=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.amplify=void 0;const t=new l("Notifications");this.logger=t}getModuleName(){return"Notifications"}configure(t){const e=t?t.Notifications||t:{};this.logger.debug("configure Notifications",e),this._config=Object.assign({},this._config,e),U.register(this),this._pluggables.forEach(t=>{t.configure(this._config)})}registerPluggable(t){this._pluggables.push(t)}getPluggable(t){return this._pluggables.find(e=>e.getPluggableName()===t)}addPluggable(t){return super.addPluggable(t),this}identifyUser(t,e){return this._pluggables.map(r=>r.identifyUser(t,e))}get InAppMessaging(){const t=this;return{configure(e){t._pluggables.forEach(t=>t.InAppMessaging.configure(e))},syncMessages(){t._pluggables.forEach(t=>t.InAppMessaging.syncMessages())},clearMessages(){t._pluggables.forEach(t=>t.InAppMessaging.clearMessages())},dispatchEvent(e){t._pluggables.forEach(t=>t.InAppMessaging.dispatchEvent(e))},setConflictHandler(e){t._pluggables.forEach(t=>t.InAppMessaging.setConflictHandler(e))},onMessageReceived(e){t._pluggables.forEach(t=>t.InAppMessaging.onMessageReceived(e))},onMessageDisplayed(e){t._pluggables.forEach(t=>t.InAppMessaging.onMessageDisplayed(e))},onMessageDismissed(e){t._pluggables.forEach(t=>t.InAppMessaging.onMessageDismissed(e))},onMessageActionTaken(e){t._pluggables.forEach(t=>t.InAppMessaging.onMessageActionTaken(e))},notifyMessageInteraction(e,r){t._pluggables.forEach(t=>t.InAppMessaging.notifyMessageInteraction(e,r))}}}};var E=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.amplify=void 0;const t=new l("PubSub");this.logger=t}getModuleName(){return"PubSub"}configure(t){const e=t?t.PubSub||t:{};this.logger.debug("configure PubSub",e),this._config=Object.assign({},this._config,e),U.register(this),this._pluggables.forEach(t=>{t.configure(e)})}registerPluggable(t){this._pluggables.push(t)}_getPluggable(t){const e=Array.isArray(t)?t:[t],r=this._pluggables.filter(t=>e.every(e=>t.checkConfig(e))),n=r.length;if(0===n)throw new Error("No provider found for "+JSON.stringify(t));return 1!==n&&this.logger.warn(n+" providers found for "+JSON.stringify(t)+", returning the first one"),r[0]}publish(t,e,r){return this._getPluggable(r).publish(t,e,r)}subscribe(t,e){return this._getPluggable(e).subscribe(t,e)}}();var O=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.amplify=void 0;const t=new l("Storage");this.logger=t}getModuleName(){return"Storage"}configure(t){const e=t?t.Storage||t:{};this.logger.debug("configure Storage",e),this._config=Object.assign({},this._config,e),U.register(this),this._pluggables.forEach(t=>{t.configure(this._config)})}_getStorage(t){const e=t&&t.provider||"AWSS3";this.logger.debug("get Storage "+e);const r=this._pluggables.find(t=>t.getCategory()===this.getModuleName()&&t.getPluggableName()===e);if(!r)throw new Error("Storage module has not been configured correctly");return r}registerPluggable(t){this._pluggables.push(t)}get(t,e){return this._getStorage(e).get(t,e)}put(t,e,r){return this._getStorage(r).put(t,e,r)}remove(t,e){return this._getStorage(e).remove(t,e)}list(t,e){return this._getStorage(e).list(t,e)}}();var C=new class extends h{constructor(){super(),this._config={},this._pluggables=[],this.amplify=void -1;const t=new l("XR");this.logger=t}getModuleName(){return"XR"}configure(t){const e=t?t.XR||t:{};this.logger.debug("configure XR",e),this._config=Object.assign({},this._config,e),U.register(this),this._pluggables.forEach(t=>{t.configure(e)})}registerPluggable(t){this._pluggables.push(t)}getPluggable(t){const e=this._pluggables.find(e=>e.getPluggableName()===t);if(e)return e;throw new Error("No plugin found in XR for "+t)}_getPluggable(t){const e=this._pluggables[0];if(e)return e;throw new Error("No plugin found in XR")}loadScene(t,e,r){return this._getPluggable().loadScene(t,e,r)}isSceneLoaded(t,e){return this._getPluggable().isSceneLoaded(t,e)}getSceneController(t,e){return this._getPluggable().getSceneController(t,e)}isVRCapable(t,e){return this._getPluggable().isVRCapable(t,e)}isVRPresentationActive(t,e){return this._getPluggable().isVRPresentationActive(t,e)}startVR(t,e){return this._getPluggable().startVR(t,e)}exitVR(t,e){return this._getPluggable().exitVR(t,e)}isARCapable(t,e){return this._getPluggable().isARCapable(t,e)}isARPresentationActive(t,e){return this._getPluggable().isARPresentationActive(t,e)}startAR(t,e){return this._getPluggable().startAR(t,e)}onSceneEvent(t,e,r,n){this._getPluggable().onSceneEvent(t,e,r,n)}setMuted(t,e,r){this._getPluggable().setMuted(t,e,r)}}();class w{constructor(){this.devMode=l.LOG_LEVEL,"object"==typeof process&&process.env&&process.env.NODE_ENV&&("development"===process.env.NODE_ENV||"test"===process.env.NODE_ENV)&&(this.devMode="DEBUG")}isDevMode(){return"DEBUG"===this.devMode}}"function"==typeof s.Buffer&&s.Buffer.from("foo","utf8");class P{constructor(t){this._logger=t}log(t,e,...r){const n=d.some(e=>"string"==typeof t&&t.startsWith(e))?"":this._logger.name;console.log(t,n,...r,e)}}const k=new class{constructor(){this._components=[],this._config={},this.Auth={};const t=new l("Amplify");this.logger=t,this.register(g),this.register(_),this.register(p),this.register(E),this.register(O),this.register(b),this.register(x),this.register(S),this.register(A),this.register(v),this.register(C)}getModuleName(){return"Amplify"}configure(t={}){if(t&&t.API&&!this._components.some(t=>"API"===t.getModuleName())&&this.logger.warn("API component recommended for this app but not imported, please add `import API from '@aws-amplify/api'` to your app"),!t)return this._config;const e=new l("Amplify");return this.logger=e,this._config=Object.assign({},this._config,t),this.logger.debug("Amplify configuration",this._config),this._components.map(e=>e.configure(this._config)),this._config}register(t){this._components.push(t),t.amplify=this,t.configure(this._config)}addPluggable(t){const e=this._components.find(e=>e.getModuleName()===t.getCategory());e?e.addPluggable(t):this.logger.error("No framework assigned for category "+t.getCategory())}}();k.Logger=y,k.Constants={userAgent:i.getAmplifyUserAgent()},k.Util={},k.Auth=_,"function"!=typeof s.Promise&&(s.Promise=Promise);var U=k;return e})()}));